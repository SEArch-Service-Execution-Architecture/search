version: '3.4'
services:
    broker:
        build: .
        command: /broker
        expose:
            - 10000
    clientmiddleware:
        build: .
        command: /clientmiddleware
    providermiddleware:
        build: .
        command: /providermiddleware --port 10000
        expose:
            - 10000